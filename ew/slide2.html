<div class="row w-100 g-3 pt-4">
    <!-- Left hand card (standalone) -->
    <div class="col-12 col-md-6 mb-3 mb-md-0">
        <div class="card shadow-sm h-100">
            <div class="card-header card-header-bordered">
                <h4 class="card-title my-2 fw-bold">Server Layer Diagram</h4>
            </div>
            <div class="card-body">
                <!-- Mermaid Diagram -->
                <div class="mermaid">
                    flowchart TB

                    subgraph "Server Layer"
                      SokoApp["SokoApplication"]:::server

                      subgraph "Controller Layer"
                        Controller["ProductController"]:::server
                      end

                      subgraph "Service Layer"
                        ProdService["ProductService"]:::server
                        CsvService["CsvExportService"]:::server
                      end

                      subgraph "Repository Layer"
                        Repository["ProductRepository"]:::server
                      end

                      Model["Product Entity"]:::server
                    end
                    
                    style SokoApp fill:#E9FBEA,stroke:#28a745
                    style Controller fill:#E9FBEA,stroke:#28a745
                    style ProdService fill:#E9FBEA,stroke:#28a745
                    style CsvService fill:#E9FBEA,stroke:#28a745
                    style Repository fill:#E9FBEA,stroke:#28a745
                    style Model fill:#E9FBEA,stroke:#28a745

                    Controller -->|"calls"| ProdService
                    Controller -->|"export CSV"| CsvService
                    ProdService -->|"queries"| Repository
                    CsvService -->|"queries"| Repository
                    Repository -->|"persists/reads"| Database["Database"]
                </div>
            </div>
        </div>
    </div>

    <!-- Right hand card (divided into two sections) -->
    <div class="col-12 col-md-6 d-flex flex-column">
        <!-- Top section of the right card -->
        <div class="card shadow-sm mb-3 flex-grow-1">
            <div class="card-header card-header-bordered">
                <h4 class="card-title my-2 fw-bold">The Server Layer</h4>
            </div>
            <div class="card-body">
                <p class="card-text">
                    This section provides an overview of the Server Layer.
                    The server layer is the backend of the application, handling business logic, data processing, and communication with the database. It is composed of the Controller, Service, and Repository layers.
                </p>
            </div>
        </div>
        <!-- Bottom section of the right card -->
        <div class="card shadow-sm flex-grow-1">
            <div class="card-header card-header-bordered">
                <h4 class="card-title my-2 fw-bold">Related Information</h4>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2"><b>SokoApp</b>: <a href="https://github.com/nozomi-75/soko/blob/main/src/main/java/com/keiaa/soko/SokoApplication.java">SokoApplication.java</a></li>
                    <li class="mb-2"><b>Controller</b>: <a href="https://github.com/nozomi-75/soko/blob/main/src/main/java/com/keiaa/soko/controller/ProductController.java">ProductController.java</a></li>
                    <li class="mb-2"><b>ProdService</b>: <a href="https://github.com/nozomi-75/soko/blob/main/src/main/java/com/keiaa/soko/service/ProductService.java">ProductService.java</a></li>
                    <li class="mb-2"><b>CsvService</b>: <a href="https://github.com/nozomi-75/soko/blob/main/src/main/java/com/keiaa/soko/service/CsvExportService.java">CsvExportService.java</a></li>
                    <li class="mb-2"><b>Repository</b>: <a href="https://github.com/nozomi-75/soko/blob/main/src/main/java/com/keiaa/soko/repository/ProductRepository.java">ProductRepository.java</a></li>
                    <li class="mb-2"><b>Model</b>: <a href="https://github.com/nozomi-75/soko/blob/main/src/main/java/com/keiaa/soko/model/Product.java">Product.java</a></li>
                    <li class="mb-2"><b>Database</b>: The server layer interacts with a database, which holds the application's data.</li>
                </ul>
            </div>
        </div>
    </div>
</div>
