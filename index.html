<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Slide Deck</title>
    <!-- Include Bootstrap CSS from CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Include Bootstrap Icons from CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Include Mermaid for diagram rendering -->
    <script type="module">
        import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body {
            /* Add some padding to the bottom so the content doesn't get hidden by the fixed bar */
            padding-bottom: 4.5rem;
            background-color: #f8f9fa; /* Light gray background */
        }

        /* Enforce a consistent height for the slide area to prevent content jumping */
        .slide-container {
            min-height: calc(100vh - 4.5rem);
            display: flex;
            align-items: center;
        }

        /* Custom style for the card header border */
        .card-header-bordered {
            border-bottom: 1px solid rgba(0,0,0,.125);
            background-color: transparent;
        }

        /* Mermaid diagram styling to be uniform with Bootstrap */
        .mermaid {
            background-color: white !important;
            border-radius: 0.375rem;
            padding: 1rem;
        }
        
        .mermaid .cluster rect {
            fill: #E9ECEF !important;
            stroke: #adb5bd !important;
        }

        .mermaid .node rect {
            fill: #E9ECEF !important;
            stroke: #adb5bd !important;
        }

        /* Styling for the mermaid diagram nodes to adhere to Bootstrap colors */
        .mermaid .frontend rect {
            fill: #E0F7FA !important; /* light cyan */
            stroke: #007BFF !important; /* blue */
        }
        
        .mermaid .server rect {
            fill: #E9FBEA !important; /* light green */
            stroke: #28a745 !important; /* green */
        }

        .mermaid .db rect {
            fill: #FFF3E0 !important; /* light orange */
            stroke: #fd7e14 !important; /* orange */
        }
    </style>
</head>
<body>

    <!-- Main content area for the slides -->
    <div class="container slide-container d-flex align-items-center">
        <!-- The single slide, occupying the space above the bottom bar -->
        <div class="row w-100">
            <!-- Left hand card (standalone) -->
            <div class="col-12 col-md-6 mb-3 mb-md-0">
                <div class="card shadow-sm h-100">
                    <div class="card-header card-header-bordered">
                        <h4 class="card-title my-2 fw-bold">Client Layer Diagram</h4>
                    </div>
                    <div class="card-body">
                        <!-- Mermaid Diagram -->
                        <div class="mermaid">
                            flowchart TB

                            subgraph "Client Layer"
                              StaticAssets["Static Assets<br/>(index.html, main.js, print.css,<br/>manifest.json, sw.js)"]:::frontend
                            end
                            BrowserUI["Browser (SPA UI)"]:::frontend
                            BrowserAPI["Browser (API Requests)"]:::frontend

                            BrowserUI -->|"loads"| StaticAssets
                            BrowserAPI -->|"HTTP GET/POST /api/products"| ServerLayer["Server Layer"]
                            
                            style StaticAssets fill:#E0F7FA,stroke:#007BFF
                            style BrowserUI fill:#E0F7FA,stroke:#007BFF
                            style BrowserAPI fill:#E0F7FA,stroke:#007BFF
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right hand card (divided into two sections) -->
            <div class="col-12 col-md-6 d-flex flex-column">
                <!-- Top section of the right card -->
                <div class="card shadow-sm mb-3 flex-grow-1">
                    <div class="card-header card-header-bordered">
                        <h4 class="card-title my-2 fw-bold">The Client Layer</h4>
                    </div>
                    <div class="card-body">
                        <p class="card-text">
                            This section provides an overview of the Client Layer.
                            This layer represents the user-facing part of the application. It's responsible for displaying the user interface (UI) and for communicating with the server to fetch and send data. The main components are the browser's UI and API interaction, as well as the static assets that are served to the browser.
                        </p>
                    </div>
                </div>
                <!-- Bottom section of the right card -->
                <div class="card shadow-sm flex-grow-1">
                    <div class="card-header card-header-bordered">
                        <h4 class="card-title my-2 fw-bold">Related Information</h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled">
                            <li class="mb-2"><b>Static Assets</b>: <a href="https://github.com/nozomi-75/soko/tree/main/src/main/resources/static">Static Assets Folder</a></li>
                            <li class="mb-2"><b>Connection to Server</b>: The browser's API calls interact with the Server Layer to retrieve product data.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fixed bottom navigation bar -->
    <nav class="navbar navbar-expand navbar-light bg-light fixed-bottom border-top shadow-lg">
        <div class="container-fluid">
            <!-- Left side controls -->
            <div class="d-flex gap-2">
                <button class="btn btn-outline-secondary d-flex align-items-center gap-1" type="button">
                    <i class="bi bi-chevron-left"></i>
                    <span class="d-none d-sm-inline">Previous</span>
                </button>
                <button class="btn btn-outline-secondary d-flex align-items-center gap-1" type="button">
                    <span class="d-none d-sm-inline">Next</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
            
            <!-- Right side about button -->
            <div class="ms-auto">
                <button class="btn btn-primary d-flex align-items-center gap-1" type="button">
                    <i class="bi bi-info-circle"></i>
                    <span class="d-none d-sm-inline">About</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Include Bootstrap JS from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
